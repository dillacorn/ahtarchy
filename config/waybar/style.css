/* === Variables === */
@define-color bg-default #353535;
@define-color bg-hover   #404040;
@define-color bg-focus   #4a4a4a;
@define-color bg-active  #2b2b2b;
@define-color bg-urgent  #ff5555;
@define-color bg-charging #6a9955;
@define-color bg-critical #ff5555;
@define-color color-default #d0d0d0;
@define-color color-dark    #1a1a1a;
@define-color color-hover   #4a4a4a;

/* === Global === */
* {
  font-size: 14px;
  border-radius: 5px;
  min-height: 0;
}

window#waybar {
  font-family: Iosevka, FontAwesome, Noto Sans CJK;
  background-color: transparent;
  color: @color-default;
  transition: background-color 0.5s;
}

window#waybar.hidden { opacity: 0.2; }
window#waybar.empty #window { background-color: transparent; }

/* === Layout === */
.modules-left   { margin: 5px 0 0 10px; }
.modules-center { margin: 5px 0 0 0; }
.modules-right  { margin: 5px 10px 0 0; }

/* Workspaces */
#workspaces { background: @bg-default; border-radius: 5px; }
#workspaces button { padding: 0 5px; background: transparent; color: @color-default; }
#workspaces button:first-child { border-radius: 5px 0 0 5px; }
#workspaces button:last-child  { border-radius: 0 5px 5px 0; }
#workspaces button:hover  { color: @color-hover; }
#workspaces button.active { background: @bg-active; color: @color-default; }
#workspaces button.urgent { background: @bg-urgent; color: @color-dark; }

/* Common module pill styling */
#idle_inhibitor,#scratchpad,#submap,#window,#clock,#battery,#backlight,#wireplumber,
#tray,#load,#cpu,#temperature,#memory,#custom-apps,#custom-power {
  padding: 0 6px;
  background: @bg-default;
  color: @color-default;
}

/* Window title in the center group */
#window { padding: 0 10px; }  /* removed unsupported text-align */

/* Mode chip (shows during submaps like 'resize') */
#mode { padding: 0 10px; }

/* Hover pills */
#custom-apps:hover, #custom-power:hover { background: @bg-hover; color: @color-default; }

/* Battery */
#battery.charging, #battery.plugged { background: @bg-charging; color: @bg-default; }
#battery.critical:not(.charging) {
  background: @bg-critical; color: @color-default;
  animation: blink 0.5s steps(12) infinite alternate;
}
@keyframes blink { to { background: @bg-default; color: @color-default; } }

/* Misc */
label:focus { background: @bg-focus; }
#wireplumber.muted { background: @bg-hover; }
#tray > .passive { -gtk-icon-effect: dim; }
#tray > .needs-attention { -gtk-icon-effect: highlight; }
#tray menu { font-family: Iosevka; }
#scratchpad.empty { background: transparent; }

/* Replace your TASKBAR section with this */

/* Taskbar: transparent bar, spaced pills */
#taskbar { padding: 0 2px; background: transparent; color: @color-default; }
#taskbar.empty { padding: 0; background: transparent; min-width: 0; margin: 0; box-shadow: none; }

#taskbar button {
  padding: 0 3px;
  margin: 0 1px;              /* gap so pills don't touch */
  background: @bg-default;    /* inactive/open app background */
  color: @color-default;
  border-radius: 5px;         /* crisp corners */
}
#taskbar button:first-child { margin-left: 0; }
#taskbar button:last-child  { margin-right: 0; }

#taskbar button:hover   { background: @bg-hover; }
#taskbar button.active  { background: @bg-active; color: @color-default; }
#taskbar button.urgent  { background: @bg-urgent; color: @color-dark; }
#taskbar button.minimized { opacity: 0.85; }

#taskbar .taskbar-title { font-size: 0; color: transparent; margin: 0; padding: 0; min-width: 0; min-height: 0; }
#taskbar image          { margin: 0; padding: 1px; min-width: 0; min-height: 0; }

/* Right-side clocks */
#clock.date, #clock.time { padding: 0 5px; margin-top: 0; }
